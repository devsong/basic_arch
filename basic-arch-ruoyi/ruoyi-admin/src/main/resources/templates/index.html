<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="renderer" content="webkit">
	<title th:text="${_sys_name}">登录若依系统</title>
    <meta name="description" th:content="${_sys_name}">
	<!-- 避免IE使用兼容模式 -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link th:href="@{favicon.ico}" rel="icon" type="image/x-icon" />
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
	<link th:href="@{/css/jquery.contextMenu.min.css}" rel="stylesheet" />
	<link th:href="@{/css/font-awesome.min.css}" rel="stylesheet" />
	<link th:href="@{/css/animate.css}" rel="stylesheet" />
	<link th:href="@{/css/style.css}" rel="stylesheet" />
	<link th:href="@{/css/skins.css}" rel="stylesheet" />
	<link th:href="@{'/ruoyi/css/ry-ui.css?v='+${_v}}" rel="stylesheet" />
</head>

<body class="fixed-sidebar full-height-layout gray-bg" style="overflow: hidden">
	<div id="wrapper">
		<!--左侧导航开始-->
		<nav th:replace="/common/left"></nav>
    	<!--左侧导航结束-->
    
		<!--右侧部分开始-->
		<div th:replace="/common/right"></div>
    	<!--右侧部分结束-->
	</div>
	<!-- 全局js -->
	<script th:src="@{/js/jquery.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
	<script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>
	<script th:src="@{/js/jquery.contextMenu.min.js}"></script>
	<script th:src="@{/ajax/libs/blockUI/jquery.blockUI.js}"></script>
	<script th:src="@{/ajax/libs/layer/layer.min.js}"></script>
	<script th:src="@{'/ruoyi/js/ry-ui.js?v='+${_v}}"></script>
	<script th:src="@{'/ruoyi/js/common.js?v='+${_v}}"></script>
	<script th:src="@{'/ruoyi/index.js?v='+${_v}}"></script>
	<script th:src="@{/ajax/libs/fullscreen/jquery.fullscreen.js}"></script>
	<script th:inline="javascript">
		var ctx = [[@{/}]];
		// 皮肤缓存
		var skin = storage.get("skin");
		// history（表示去掉地址的#）否则地址以"#"形式展示
		var mode = "history";
		// 历史访问路径缓存
		var historyPath = storage.get("historyPath");

		// 本地主题优先，未设置取系统配置
		if($.common.isNotEmpty(skin)){
			$("body").addClass(skin.split('|')[0]);
			$("body").addClass(skin.split('|')[1]);
		} else {
			$("body").addClass([[${sideTheme}]]);
			$("body").addClass([[${skinName}]]);
		}

		/* 用户管理-重置密码 */
		function resetPwd() {
			var url = ctx + 'system/user/profile/resetPwd';
			$.modal.open("重置密码", url, '770', '380');
		}
		/* 切换主题 */
		function switchSkin() {
			layer.open({
				type : 2,
				shadeClose : true,
				title : "切换主题",
				area : ["530px", "386px"],
				content : [ctx + "system/switchSkin", 'no']
			})
		}

		/** 刷新时访问路径页签 */
		function applyPath(url) {
			$('a[href$="' + decodeURI(url) + '"]').click();
			if (!$('a[href$="' + url + '"]').hasClass("noactive")) {
				$('a[href$="' + url + '"]').parent("li").addClass("selected").parents("li").addClass("active").end().parents("ul").addClass("in");
			}
		}

		$(function() {
			if($.common.equals("history", mode) && window.performance.navigation.type == 1) {
				var url = storage.get('publicPath');
				if ($.common.isNotEmpty(url)) {
					applyPath(url);
				}
			} else {
				var hash = location.hash;
				if ($.common.isNotEmpty(hash)) {
					var url = hash.substring(1, hash.length);
					applyPath(url);
				}
			}
		});
	</script>
</body>
</html>
